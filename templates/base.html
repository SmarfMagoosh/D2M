<!--
    Use this as a "template" template. I.E put stuff on this page that you want on every jinja template,
    check https://jinja.palletsprojects.com/en/3.1.x/templates/#base-template
    for info on how to do that.
    We should definitely be putting our nav bar here and possible our footer as well.
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %} - D2M</title>
    <link rel="stylesheet" href="../static/css/styling.css">
    <link rel="stylesheet" href="../static/css/login.css">
    <script src = "../static/js/scripting.js"></script>

    <!-- msal.min.js can be used in the place of msal.js; included msal.js to make debug easy -->
    <script id="load-msal" src="https://alcdn.msauth.net/browser/2.31.0/js/msal-browser.js"
    integrity="sha384-BO4qQ2RTxj2akCJc7t6IdU9aRg6do4LGIkVVa01Hm33jxM+v2G+4q+vZjmOCywYq"
    crossorigin="anonymous"></script>
    {% block head %}{% endblock %}
</head>
<body>
    <nav class="navbar">
        <a href="../home"><img src="logo.png" alt="D2M logo" style="width:42px;height:42px;"></a>
        Search Bar goes here 
        (Bell)
        <div class="dropdown">
            <button class="dropbtn">Dropdown</button>
            <div class="dropdown-content">
              <a href="../profile">Profile</a>
              [bookmarks]
              <a href="../settings">Settings</a>
              <a href="../login">Login</a>
            </div>
          </div>
        
        <button onclick="document.getElementById('id01').style.display='block'" style="width:auto;">Login</button>

        <div id="id01" class="modal">
          
          <form class="modal-content animate" action="/action_page.php" method="post">
            <div class="imgcontainer">
              <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">&times;</span>
              <!-- <img src="img_avatar2.png" alt="Avatar" class="avatar"> -->
            </div>

            <div class="container">
              <label for="uname"><b>Username</b></label>
              <input type="text" placeholder="Enter Username" name="uname" required>
              <br>
              <label for="psw"><b>Password</b></label>
              <input type="password" placeholder="Enter Password" name="psw" required>
              <br>
              <button type="button" id="signIn" class="btn btn-secondary" onclick="signIn()">MSAL</button>
              <!-- <button type="submit">Login</button> -->
              <!-- <label>
                <input type="checkbox" checked="checked" name="remember"> Remember me
              </label> -->
            </div>

            <div class="container" style="background-color:#f1f1f1">
              <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
              <br>
              <span class="psw">Forgot <a href="#">password?</a></span>
            </div>
          </form>
        </div>

        <!-- <div class="collapse navbar-collapse justify-content-end">
          <button type="button" id="signIn" class="btn btn-secondary" onclick="signIn()">Sign-in</button>
        </div> -->
    </nav>
    <div id = "main-content-div">
        {% block content %}{% endblock %}
    </div>

  <!-- importing app scripts (load order is important) -->
  <script type="text/javascript" src="./../static/js/authConfig.js"></script>
  <script type="text/javascript" src="./../static/js/login.js"></script>
  <script type="text/javascript" src="./../static/js/authRedirect.js"></script>
  <script type="text/javascript" src="./../static/js/navBar.js"></script>

  <script>
    // Get the modal
    var modal = document.getElementById('id01');
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
  </script>

</body>
</html>